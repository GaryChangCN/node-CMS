!function(){var e={bindEvent:function(){$(".tab-item").click(function(e){return!$(this).hasClass("item-select")&&($(this).parent().children().removeClass("item-select"),$(this).addClass("item-select"),void("product"===$(this).data("type")?($("#product").removeClass("hidden"),$("#explore").addClass("hidden")):($("#product").addClass("hidden"),$("#explore").removeClass("hidden"))))}),$(".more").click(function(e){e.preventDefault(),$(this).parent().next().removeClass("card-cover-hide")}),$(".des").click(function(e){e.preventDefault()}),$(".close-card-cover").click(function(e){e.preventDefault(),$(this).parent().parent().addClass("card-cover-hide")}),$(".img-more").click(function(e){e.preventDefault();var t=$(this).children("a");blueimp.Gallery(t,{hidePageScrollbars:!1})})},setStar:function(){var e=JSON.parse(localStorage.getItem("quote"));if(e&&e.product){var t=e.product,a=$(".star");a.each(function(){~t.indexOf($(this).data("id"))&&($(this).parent().children("#star-off").addClass("star-hide"),$(this).parent().children("#star-on").removeClass("star-hide"))})}},search:function(){var e=window.location.search,t=this;$.get("/api/search"+e,function(a){if(a.productList.length>0||a.articleList.length>0){var i=a,n=e.replace("&language=en","");n=n.replace("?keywords=",""),i.keywords=decodeURI(n),i.articleLength=i.articleList.length,i.productLength=i.productList.length;for(var r=0;r<i.articleList.length;r++){var c=i.articleList[r].content.indexOf(n);~c&&(i.articleList[r].content=i.articleList[r].content.replace(i.keywords,"<b>"+i.keywords+"</b>"),i.articleList[r].content=i.articleList[r].content.slice(Math.max(0,c-50),c+50))}~e.indexOf("language=en")?i.chinese=!1:i.chinese=!0,t.templateSearch(i)}else t.templateSearch()})},templateSearch:function(e){var t=null,a=this,i=window.location.search;e?(e.isNull=!1,t=template("search-template",e)):t=~i.indexOf("language=en")?template("search-template",{isNull:!0,chinese:!1}):template("search-template",{isNull:!0,chinese:!0}),$("#search-content").html(t),a.bindEvent(),a.setStar()},init:function(){this.search()}};e.init()}();